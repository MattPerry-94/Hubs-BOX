import requests

# Configuration
ACCESS_TOKEN = "D7eBeqag15nHsGRCn8zRW0RkNHJ7XTBc"
BASE_URL = "https://api.box.com/2.0"

# Liste des IDs des hubs à supprimer
hub_ids = [
    "749913527",
"749914919",
"749918139",
"749919728",
"749922787",
"749925431",
"749926862",
"749929879",
"749931613",
"749929262",
"749934691",
"749936544",
"749937091",
"749939302",
"749941747",
"749944294",
"749946598",
"749949289",
"749951431",
"749953215",
"749955795",
"749959046",
"749960449",
"749963797",
"749966010",
"749968737",
"749970880",
"749973211",
"749975042",
"749913328",
"749978032",
"749980061",
"749982984",
"749984438",
"749966197",
"749968597",
"749986817",
"749989607",
"749992233",
"749994586",
"749996920",
"749999649",
"749953831",
"750002198",
"750004529",
"750006046",
"750008658",
"749994633",
"750010918",
"750013359",
"750015611",
"750019044",
"750020561",
"750022979",
"750025441",
"750027703",
"750031035",
"750033146",
"750035358",
"750038288",
"750040602",
"750042331",
"750045216",
"750046991",
"750049336",
"750051911",
"750055032",
"750056761",
"750059487",
"750061649",
"750061887",
"750063790",
"750066708",
"750069283",
"750004598",
"750071498",
"750074098",
"750076407",
"750078352",
"750081106",
"750083862",
"749980432",
"750085844",
"749956231",
"750088366",
"750091111",
"750093130",
"749996986",
"750095634",
"749999386",
"750047616",
"750098078",
"750100042",
"750102204",
"750105276",
"750107532",
"750050016",
"749970997",
"750110069",
"750112292",
"750115189",
"750117247",
"750119295",
"750121977",
"750124131",
"750126026",
"750129543",
"749977442",
"750131401",
"750133709",
"749939491",
"750064287",
"750136547",
"750139054",
"750141452",
"750142889",
"750146261",
"750147848",
"750150003",
"750001786",
"750153070",
"750155984",
"750157835",
"750040688",
"750159619",
"750162763",
"750165370",
"750166809",
"750169312",
"749973397",
"750172047",
"750174419"
]

def delete_hub(hub_id):
    """Supprime un hub."""
    url = f"{BASE_URL}/hubs/{hub_id}"
    headers = {
        "Authorization": f"Bearer {ACCESS_TOKEN}",
        "Content-Type": "application/json",
        "box-version": "2025.0"
    }
    response = requests.delete(url, headers=headers)
    response.raise_for_status()
    return response.status_code

def delete_all_hubs():
    """Supprime tous les hubs dont les IDs sont fournis."""
    for hub_id in hub_ids:
        try:
            delete_hub(hub_id)
            print(f"Hub avec ID '{hub_id}' supprimé avec succès.")
        except requests.exceptions.HTTPError as err:
            print(f"Erreur lors de la suppression du Hub avec ID '{hub_id}'. Statut HTTP : {err.response.status_code}")
            print(f"Réponse de l'API : {err.response.text}")

# Exécuter le script pour supprimer tous les hubs
delete_all_hubs()
